<!DOCTYPE HTML>

<html lang="it">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Othello: corso interattivo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
		  integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
			integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</head>

<body>

	<nav class="navbar navbar-expand-lg bg-primary" data-bs-theme="dark">
		<div class="container-xxl">
			<a class="navbar-brand h1" href="#">Othello: corso interattivo</a>
		</div>
	</nav>

	<div id="othello-content" class="container-xxl">
		<div class="row">
			<div class="col-lg-2 bg-primary-subtle text-center">
				<a class="" href="http://www.fngo.it">
					<img class="mt-3" src="images/fngologo.gif" width="126" height="123" alt="Federazione Nazionale Gioco Othello">
				</a>
				<h5>Federazione Nazionale Gioco Othello</h5>
				<a class="nav-link mb-3" href="presentazione-del-corso.html">Presentazione del corso</a>
			</div>
			<div class="col-lg-10 py-3 px-5">
				<div id="index-content" class="row"></div>
			</div>
		</div>
	</div>

	<script>
		function initPage(section, chapter, page, ul) {
			const li = document.createElement("li");
			li.classList.add("nav-item");
			ul.append(li);

			const a = document.createElement("a");
			a.classList.add("link-dark");
			a.classList.add("link-offset-2");
			a.classList.add("link-underline-opacity-0");
			a.classList.add("link-underline-opacity-100-hover");
			a.setAttribute("href", section.href + chapter.href + page.href);
			a.innerHTML = page.title;
			li.append(a);
		}

		function initSection(section) {
			const h1 = document.createElement("h1");
			document.getElementById("index-content").append(h1);

			const a = document.createElement("a");
			a.classList.add("link-dark");
			a.classList.add("link-offset-2");
			a.classList.add("link-underline-opacity-0");
			a.classList.add("link-underline-opacity-100-hover");
			a.setAttribute("href", section.href + "section.html");
			a.innerHTML = section.title;
			h1.append(a);

			section.chapters.forEach((chapter) => initChapter(section, chapter));

			document.getElementById("index-content").append(document.createElement("hr"));
		}

		function initChapter(section, chapter) {
			const div = document.createElement("div");
			div.classList.add("col-lg-3");
			div.classList.add("py-3");
			document.getElementById("index-content").append(div);

			const ul = document.createElement("ul");
			ul.classList.add("nav");
			ul.classList.add("flex-column");
			div.append(ul);

			const li = document.createElement("li");
			li.classList.add("nav-item");
			ul.append(li);

			const h4 = document.createElement("h4");
			li.append(h4);

			const a = document.createElement("a");
			a.classList.add("link-dark");
			a.classList.add("link-offset-2");
			a.classList.add("link-underline-opacity-0");
			a.classList.add("link-underline-opacity-100-hover");
			a.setAttribute("href", section.href + chapter.href + "chapter.html");
			a.innerHTML = chapter.title;
			h4.append(a);

			const ul2 = document.createElement("ul");
			li.append(ul2);

			chapter.pages.forEach((page) => initPage(section, chapter, page, ul2));
		}

		function initIndex(json) {
			json.sections.forEach((section) => initSection(section));
		}

		const index = "index.json#20240410";
		let json;
		fetch(index)
			.then((response) => response.json())
			.then((json) => initIndex(json));
	</script>

</body>
</html>
